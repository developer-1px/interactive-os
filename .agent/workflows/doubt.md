---
description: 모든 것을 의심한다. 쓸모가 있나? 줄일 수 있나? 더 적게 할 수 없나?
---

## /doubt — 빼는 것도 선택지다

> **이론적 기반**:
> - Leidy Klotz *Subtract* — 인간은 체계적으로 뺄셈을 간과한다. 의식적 트리거가 필요하다.
> - Lean 7 Muda — 가치를 만들지 않는 것은 낭비다.
> - Chesterton's Fence — 왜 있는지 이해한 뒤 빼라.

### 대상

모든 것. 코드, 워크플로우, 문서, 프로젝트 구조, 기능, 절차.
호출 시 scope를 지정할 수 있다. 미지정 시 대화 맥락에서 추론한다.

### Step 0: Rule 숙지

- `.agent/rules.md`를 읽는다.

### 절차

이 워크플로우는 **재귀적으로 실행**된다.
각 라운드에서 변경이 발생하면 변경된 결과 자체를 다시 의심한다.
전체 항목이 🟢(유지)로 판정되면 수렴으로 간주하고 종료한다.

```
while (true) {
  round++
  changes = 목록화 → 필터체인 → Fence → 실행
  if (changes === 0) break  // 수렴: 전체 🟢
  if (자기교정 발생) break   // 되돌림 = 더 빼면 오히려 악화
}
보고 (누적)
```

**자기교정 규칙**: 라운드 N에서 만든 변경을 라운드 N+1에서 되돌리면 **수렴 신호**다. 
더 이상 재귀하지 않고 되돌린 상태에서 종료한다.

**최대 깊이**: 5라운드. 5라운드 안에 수렴하지 않으면 중단하고 보고한다.

---

#### 1. 목록화
- 대상 범위 내의 모든 항목을 나열한다.
- 각 항목의 역할을 1문장으로 설명한다.

#### 2. 필터 체인 (순서대로)

각 항목에 4단계 질문을 적용한다. 첫 번째에서 "아니오"면 나머지를 묻지 않는다.

```
① 쓸모가 있나?  (Existence)  → 아니오 → 🔴 제거 후보
② 형태가 맞나?  (Fit)        → 아니오 → 🟡 재설계 후보 (존재 이유는 있지만 모델이 잘못되거나, 이 파일에 있을 이유가 없음)
③ 줄일 수 있나? (Volume)     → 예    → 🟡 축소 후보
④ 더 적게?      (Efficiency) → 예    → 🟡 병합/단순화 후보
```

**Lean 7 Muda 렌즈** — 판단이 모호할 때 낭비 유형으로 분류한다:
| 낭비 | 질문 |
|------|------|
| 과잉생산 | 아무도 안 쓰는데 미리 만들었나? |
| 재고 | 실행 안 된 채 쌓여만 있나? |
| 과잉처리 | 필요 이상으로 정교하지 않나? |
| 운반 | 불필요하게 이동/복사하고 있나? |
| 동작 | 같은 정보를 반복 입력하나? |
| 대기 | 결정 대기로 멈춰 있나? |
| 결함 | 현실과 불일치하나? |

#### 3. Chesterton's Fence (안전장치)

🔴/🟡 후보 각각에 대해:
```
왜 만들었는지 아는가?
  → Yes → 그 이유가 아직 유효한가?
    → No  → ✅ 제거/축소 확정
    → Yes → 유지 (판정: 🟢)
  → No  → 이유를 조사한다 (git log, 대화 히스토리, docs)
```

#### 4. 실행

- **🔴 제거 확정** → 직접 삭제한다. 칼을 건네지 않고 든다.
- **🟡 축소/병합 확정** → 직접 수정한다.
- **🟢 유지** → 건드리지 않는다.
- 실행 후 `/verify` (해당되면).
- **변경이 있으면 → 1단계로 돌아간다** (재귀).

#### 5. 보고 (수렴 후 1회)

모든 라운드의 **누적 결과**를 보고한다.

```markdown
# /doubt 결과 (N라운드 수렴)

## 라운드 요약
| Round | 🔴 제거 | 🟡 축소 | ↩️ 자기교정 | 수렴? |
|:-----:|:------:|:------:|:---------:|:----:|
| 1     |        |        |           |      |
| ...   |        |        |           |      |

## 🔴 제거 (총 N건)
- [항목]: [이유] (round N)

## 🟡 축소/병합 (총 N건)
- [항목]: [변경 내용] (round N)

## 🟢 유지 (N건)
- [항목]: [존재 이유]

## 📊 Before → After (누적)
- 항목 수: X → Y (−Z)
```
