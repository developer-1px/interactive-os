---
description: 인라인 자가성찰. 새 발견이 0건이 될 때까지 반복하는 수렴 루프.
---

## /reflect — 멈추고 돌아봐

### 원칙

> 코드를 작성한 직후, 커밋 직전, 또는 사용자가 요청했을 때 실행한다.
> 목적은 **무의식적으로 레거시 패턴을 따라가거나, 원칙을 위반하지 않았는지** 점검하는 것.
> **1회가 아니라 수렴할 때까지 반복한다.** 새 발견이 0건이 되면 종료.

### 절차

1. **rules.md 로딩**
   - `.agent/rules.md`를 읽는다. 이것이 기준이다.

2. **방금 한 작업 식별**
   - 최근 수정한 파일, 추가한 코드, 변경한 패턴을 식별한다.

3. **수렴 루프** (새 발견 0건까지 반복)

   각 회차마다 체크리스트를 점검한다:
   - [ ] rules.md의 Working 섹션 원칙을 따르는가?
   - [ ] 기존 코드를 복붙하지 않고 원칙에 맞게 작성했는가?
   - [ ] 레거시 패턴(deprecated API, 구식 컨벤션)을 따라가지 않았는가?
   - [ ] 네이밍이 프로젝트 컨벤션과 일치하는가?
   - [ ] 불필요한 추상화나 과잉 설계가 없는가?
   - [ ] `as any`, `console.log`, 하드코딩된 값이 없는가?
   - [ ] Known 해법이 있는데 "나중에" 또는 "PoC니까"로 미룬 것이 없는가?

   **탈출 조건**: 해당 회차에서 새 발견이 0건이면 루프 종료.
   **보고 형식**: 각 회차마다 `[N회차] 발견 M건: ...` 으로 누적 보고.

4. **위반 발견 시**
   - 즉시 수정한다.
   - 수정 사항을 사용자에게 보고한다.
   - 다음 회차로 진입한다.

5. **수렴 완료 시**
   - "✅ reflect 통과 (N회차, 총 M건 수정)" 한 줄로 보고.

### 사용 시점

- `/go` 실행 루프에서 코드 작성 후
- `/premortem` 직후 (Double Diamond: Diverge → Converge)
- 커밋 직전
- 사용자가 `/reflect`를 명시적으로 호출했을 때
- 뭔가 찝찝할 때
