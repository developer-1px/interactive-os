---
description: "다 했다"고 한 작업이 안 될 때, 되돌아가서 진짜로 되게 만든다.
---

## Trigger
사용자가 "안 돼", "동작 안 해", "not working" 등으로 직전 완료 선언을 거부했을 때.

## Steps

### Step 0: REWORKBOOK 숙지

`.agent/knowledge/rework.md`를 읽는다.
- §1 실수 유형 분류
- §2 Rework 선례 (같은 유형 반복 방지)

### 1. 컨텍스트 복원 (What did I claim?)
- 직전 세션/턴에서 "완료"라고 선언한 작업을 식별한다.
- 변경한 파일 목록, 수정 내용, 완료 선언 근거를 정리한다.

### 2. 재현 (Reproduce)
- 사용자가 보고한 증상을 그대로 재현한다.
- 테스트 실행, 브라우저 확인, 로그 확인 등 실제 동작을 검증한다.
- 재현 결과를 사용자에게 보고한다: "이 증상이 맞나요?"

### 3. 원인 분석 (Why did I miss it?)
- 왜 완료라고 판단했는데 실제로는 안 됐는지 근본 원인을 밝힌다.
- 분류: 검증 누락 | 잘못된 가정 | 부분 적용 | 사이드이펙트
- 한 줄 요약으로 원인을 명시한다.

### 4. 수정 (Fix for real)
- 근본 원인에 대응하는 수정을 적용한다.
- 이번에는 "됐다"고 말하기 전에 반드시 Step 5를 통과해야 한다.

### 5. 증명 (Prove it works)
- 수정 후 Step 2의 재현 시나리오를 다시 실행한다.
- 통과 증거(테스트 결과, 스크린샷, 로그)를 사용자에게 제시한다.
- 사용자 확인 없이 "완료"를 선언하지 않는다.

### 마지막 Step: REWORKBOOK 갱신

`.agent/knowledge/rework.md`를 갱신한다.
- 형식: `[Rework] 원인: {원인 분류} | 놓친 검증: {검증 방법}`
- §2 Rework 선례 테이블에 추가한다.
- 새로운 실수 유형이 발견되면 §1에 추가한다.

> 새 지식 없으면 스킵.
