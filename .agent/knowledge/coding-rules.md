# 코딩 규칙

> 이 문서는 구체적인 코딩 패턴과 안티패턴을 정의한다.
> 성능, 렌더링, 상태 관리 관련 코드를 작성할 때 참조한다.

---

## 성능

1. **애니메이션은 과정을 보여줘야 한다. 과정을 가리는 애니메이션은 잘못된 애니메이션이다.** Repeatable한 빠른 이동(커서, 포커스)에 opacity·색상 transition을 걸면, 이동 중 상태가 보이지 않는 순간이 생겨 오히려 과정을 가린다. 이런 요소에는 transition 없이 즉시 반영한다.

2. **외부 스토어 구독값을 `useEffect` deps에 넣는 동시에 effect body에서 그 스토어를 변이(mutate)하지 않는다.** 이 패턴은 `구독 변경 → effect 재실행 → mutate → emit → 구독 변경 → ...` 무한 루프를 만든다 (`Maximum update depth exceeded`). **수정 패턴**: 구독값을 `ref`에 저장하고 렌더마다 갱신하되, deps에는 포함하지 않는다.
