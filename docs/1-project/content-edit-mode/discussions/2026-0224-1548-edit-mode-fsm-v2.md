# Edit Mode FSM v2 â€” Discussion Conclusion

> 2026-02-24 15:48

## Journey

**ğŸ§‘ ì‚¬ìš©ì**: ê·¸ë£¹ì„ ëˆŒë €ë‹¤ ë–¼ë©´ ë°”ë¡œ editëª¨ë“œê°€ ë˜ì–´ë²„ë ¤ (Inspector ë¡œê·¸ ì²¨ë¶€)

**ğŸ¤– AI**: mousedownì´ focusedItemIdë¥¼ ê°±ì‹ í•œ ë’¤ clickì—ì„œ "ì¬í´ë¦­"ìœ¼ë¡œ ì˜¤íŒ. `preClickFocusedItemId` + `reClickOnly` ì˜µì…˜ìœ¼ë¡œ ìˆ˜ì •.

---

**ğŸ§‘ ì‚¬ìš©ì**: í¸ì§‘ëª¨ë“œì— ëŒ€í•´ ë‹¤ì‹œ ì„¤ëª…í• ê²Œ. ì„ íƒëª¨ë“œì—ì„œëŠ” í¸ì§‘ ì•ˆ ë˜ê³ , í¸ì§‘ëª¨ë“œì—ì„œëŠ” textë¥¼ í´ë¦­í•˜ë©´ ë°”ë¡œ ê·¸ ì»¤ì„œì—ì„œ í¸ì§‘. I-beam ìœ„ì¹˜ë„ ë§ì•„ì•¼ í•´. í¸ì§‘ëª¨ë“œë”ë¼ë„ groupì„ ì„ íƒí•˜ë©´ ì„ íƒëª¨ë“œë¡œ.

**ğŸ¤– AI**: per-item FSMì´ ì•„ë‹ˆë¼ **ê¸€ë¡œë²Œ ëª¨ë“œ** ê°œë…. contenteditable ì‚¬ì „ í™œì„±í™” ì´ìŠˆ ì œê¸°.

---

**ğŸ§‘ ì‚¬ìš©ì**: I-beamì€ caretRangeFromPointë¡œ í•´ê²° ê°€ëŠ¥

**ğŸ¤– AI**: FSM ì „ì´ í…Œì´ë¸” v2 ì‘ì„±. 5ê°œ ì¡°ê°ìœ¼ë¡œ /divide.

---

**ğŸ§‘ ì‚¬ìš©ì**: edit modeë¼ë„ textê°€ ì•„ë‹Œ ê²ƒë“¤ì€ í¸ì§‘ì´ ì•ˆë˜ë‹ˆ textê°€ ì•„ë‹Œ ê±¸ ì„ íƒí•˜ë©´ ì„ íƒëª¨ë“œë¡œ ë°”ë€ŒëŠ”ê±°ì•¼

**ğŸ¤– AI**: ë¶„ê¸° ê¸°ì¤€ = "ê³„ì¸µ ë ˆë²¨"ì´ ì•„ë‹ˆë¼ "Field ìœ ë¬´". T2(drillDown ì¶©ëŒ) í•´ì†Œë¨.

---

**ğŸ§‘ ì‚¬ìš©ì**: ESCê°€ ì•„ë‹ˆë¼ë©´ blur commitìœ¼ë¡œ ê°€ì. enter commitì€ singleline ë ˆê±°ì‹œ. ESCë„ ì»¤ë°‹ìœ¼ë¡œ. Cmd+Zê°€ ê°€ëŠ¥í•˜ë‹ˆê¹Œ.

**ğŸ¤– AI**: T1(commit ì£¼ì²´ ì¶©ëŒ) í•´ì†Œ. blur = ìœ ì¼í•œ commit ê²½ë¡œ. Cancel ê²½ë¡œ íê¸°.

---

## Conclusion

| Toulmin | ë‚´ìš© |
|---------|------|
| **ğŸ¯ Claim** | ë¹Œë” ìº”ë²„ìŠ¤ì— 2-state FSM(SELECT/EDIT)ì„ ë„ì…. ëª¨ë“œëŠ” `editingItemId` ìœ ë¬´ë¡œ íŒŒìƒ. Commitì€ blur ë‹¨ì¼ ê²½ë¡œ. EDIT ëª¨ë“œì—ì„œ Field ìˆëŠ” ì•„ì´í…œ í´ë¦­ = ì¦‰ì‹œ í¸ì§‘ + I-beam ë°°ì¹˜, Field ì—†ëŠ” ì•„ì´í…œ í´ë¦­ = SELECTë¡œ ê°•ë“±. |
| **ğŸ“Š Data** | reClickOnly ë²„ê·¸ ìˆ˜ì • (mousedownì´ focusedItemIdë¥¼ ë¨¼ì € ê°±ì‹ í•˜ì—¬ ì˜¤íŒ), Inspector ë¡œê·¸ë¡œ ì¬í˜„ í™•ì¸. Figma/Google Slides ì°¸ì¡°. |
| **ğŸ”— Warrant** | W1. ëª¨ë“œ = editingItemId íŒŒìƒ (ë³„ë„ ë³€ìˆ˜ ë¶ˆí•„ìš”) / W2. ë¶„ê¸° ê¸°ì¤€ = Field ìœ ë¬´ (ê³„ì¸µ ì•„ë‹˜) / W3. blur = ìœ ì¼í•œ commit ê²½ë¡œ (ë ˆì´ìŠ¤ ì—†ìŒ) / W4. Escape = commit (cancel íê¸°, Cmd+Zê°€ ëŒ€ì²´) / W5. caretRangeFromPointë¡œ I-beam ìœ„ì¹˜ í•´ê²° |
| **ğŸ“š Backing** | Figma: ì¬í´ë¦­â†’í¸ì§‘, íƒ€ì´í•‘â†’í¸ì§‘, commit-on-blur. Google Slides: ë™ì¼ íŒ¨í„´. |
| **âš–ï¸ Qualifier** | Clear â€” ëŒ€ë¦½ ëª¨ë‘ í•´ì†Œ, êµ¬í˜„ ê²½ë¡œ í™•ì • |
| **âš¡ Rebuttal** | 1. blur-commitì€ ì˜ˆê¸°ì¹˜ ì•Šì€ focus ì´ë™ ì‹œ ì˜ë„ì¹˜ ì•Šì€ commit ê°€ëŠ¥ â†’ Cmd+Zë¡œ ë³´ì™„. 2. Enter commit ì œê±° ì‹œ singleline field ì‚¬ìš© ì•±(Todo ë“±)ì— ì˜í–¥ â†’ ë¹Œë” scopeë§Œ ë³€ê²½. |
| **â“ Open Gap** | íƒ€ì´í•‘ ì§„ì… ì‹œ í‚¤ forwarding (typed charë¥¼ fieldì— ì „ë‹¬) ë¯¸êµ¬í˜„ |

## FSM v4 (í™•ì •)

```
State: SELECT (editingItemId === null)
  click(any)              â†’ SELECT  (focus + select)
  re-click(has Field)     â†’ EDIT    (FIELD_START_EDIT)
  Enter(has Field)        â†’ EDIT    (FIELD_START_EDIT)
  type printable          â†’ EDIT    (FIELD_START_EDIT + forward)
  Escape                  â†’ SELECT  (deselect)

State: EDIT (editingItemId !== null)
  click(has Field, other) â†’ EDIT    (blurâ†’commit, FIELD_START_EDIT + caretFromPoint)
  click(no Field)         â†’ SELECT  (blurâ†’commit, editingItemId=null)
  click(same)             â†’ EDIT    (caret move, browser native)
  Escape                  â†’ SELECT  (commit + FIELD_END_EDIT)
  type                    â†’ EDIT    (text input, native)
```

## Commit Policy

```
Commit: blur (ìœ ì¼ ê²½ë¡œ)
Cancel: ì—†ìŒ (Cmd+Zê°€ ëŒ€ì²´)
Escape: commit + mode exit (not cancel)
Enter: no-op in builder (singleline legacy ì œê±°)
```
