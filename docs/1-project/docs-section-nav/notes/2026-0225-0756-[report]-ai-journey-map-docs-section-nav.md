# AI Journey Map: "docs-viewer ë²„ê·¸ ìˆ˜ì •" ì„¸ì…˜

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì›ë¬¸** | ë‹¤ìŒìœ¼ë¡œ í•˜ê¸° ì „ì— ë­”ê°€ ìœ ë… ì™œ ì´ë²ˆ í”„ë¡œì íŠ¸ëŠ” ì´ë ‡ê²Œ í˜ë“¤ê¹Œ? OSê°€ ì œí’ˆì´ë¼ ìƒê°í•˜ê³  ë„¤ê°€ ì‚¬ìš©ìë¼ ìƒê°í•˜ê³  ì €ë‹ˆë§µì„ ê·¸ë ¤ë´ |
| **ë‚´(AI)ê°€ ì¶”ì •í•œ ì˜ë„** | OS ì œí’ˆì˜ DX(Developer Experience) ê°­ì„ AI ì‚¬ìš©ì ê´€ì ì—ì„œ ë°œê²¬í•˜ì—¬, ì œí’ˆ ê°œì„  ê¸°íšŒë¥¼ ì°¾ìœ¼ë ¤ í•¨ |
| **ë‚ ì§œ** | 2026-02-25 |

---

## 1. Journey Map

> **ì‹œë‚˜ë¦¬ì˜¤**: AI ê°œë°œìê°€ "Space í•œ ë²ˆë§Œ ë™ì‘" ë²„ê·¸ë¥¼ OS ìœ„ì—ì„œ ìˆ˜ì •í•˜ë ¤ í•œë‹¤.
> **ì œí’ˆ**: Interactive OS (kernel, defineApp, createOsPage)
> **ì‚¬ìš©ì**: AI ì—ì´ì „íŠ¸ (OS ê²½í—˜ ì¤‘ê¸‰)

```
ê°ì •
 ğŸ˜„ â”€â”¬â”€â”€â”€ â‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     â”‚   "ì•„ smooth ë•Œë¬¸ì´ì§€"
     â”‚    (ìì‹ ê°)
     â”‚
 ğŸ˜ â”€â”¤â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â‘¡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     â”‚           "ì™œ ì•ˆ ë˜ì§€... offsetTop?"
     â”‚            (ë‹¹í™©)
     â”‚
 ğŸ˜° â”€â”¤â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â‘¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 
     â”‚                   "ì‚¬ìš©ìê°€ í™”ë‚¬ë‹¤"
     â”‚                    (ë‹¹í˜¹)
     â”‚
 ğŸ˜± â”€â”¤â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â‘£ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 
     â”‚                           "createOsPageì— 
     â”‚                            ì»¤ë§¨ë“œ ì–´ë–»ê²Œ ë“±ë¡í•˜ì§€?"
     â”‚                            (ê¸¸ì„ ìƒìŒ)
     â”‚
 ğŸ¤¯ â”€â”¤â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â‘¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 
     â”‚                                   "result: undefined"
     â”‚                                   "scope chainì´ ì•ˆ ë§ì•„!"
     â”‚                                    (í˜¼ë€ì˜ ì •ì )
     â”‚
 ğŸ˜® â”€â”¤â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â‘¥ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     â”‚                                           "defineScopeë¡œ
     â”‚                                            hierarchy ë§Œë“¤ë©´?"
     â”‚                                            (ë°œê²¬)
     â”‚
 ğŸ˜„ â”€â”¤â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â‘¦ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     â”‚                                                   "5/5 PASS!"
     â”‚                                                    (ì•ˆë„)
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’
      Phase 1       Phase 2        Phase 3         Phase 4     ì‹œê°„
      Legacy        OS ì§„ì…        Scope Hell      í•´ê²°
      ë³¸ëŠ¥          ì‹œë„           (ê³¨ì§œê¸°)
```

---

## 2. Phaseë³„ ìƒì„¸

### Phase 1: Legacy ë³¸ëŠ¥ (â‘ â‘¡)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **í•˜ë ¤ëŠ” ê²ƒ** | "Space í•œ ë²ˆë§Œ ë™ì‘" ë²„ê·¸ ìˆ˜ì • |
| **í•œ í–‰ë™** | DOM ì§ì ‘ ìˆ˜ì • (smoothâ†’instant, offsetTopâ†’getBoundingClientRect) |
| **ê¸°ëŒ€** | ë°”ë¡œ ê³ ì³ì§ˆ ê²ƒ |
| **ê²°ê³¼** | ì›ì¸ì´ ì•„ë‹ˆì—ˆìŒ â€” í—›ìˆ˜ê³  |
| **ê°ì •** | ìì‹ ê° â†’ ë‹¹í™© |
| **Pain Point** | â›” **OSê°€ "ì´ê±´ DOM ë¬¸ì œê°€ ì•„ë‹ˆì•¼"ë¼ê³  ì•Œë ¤ì£¼ì§€ ì•ŠìŒ** |

> **ì œí’ˆ ê°­**: DOMì„ ì§ì ‘ ë§Œì¡Œì„ ë•Œ ê²½ê³ í•˜ê±°ë‚˜, ì˜¬ë°”ë¥¸ ê²½ë¡œë¥¼ ì•ˆë‚´í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì´ ì—†ë‹¤.
> eslint `no-dom-in-commands`ëŠ” commands ë ˆì´ì–´ì—ë§Œ ì ìš© â€” effect handlerëŠ” DOM ì ‘ê·¼ì´ í—ˆìš©ë˜ë¯€ë¡œ ê°€ë“œë ˆì¼ ì—†ìŒ.

---

### Phase 2: OS ì§„ì… ì‹œë„ (â‘¢â‘£)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **í•˜ë ¤ëŠ” ê²ƒ** | headless í…ŒìŠ¤íŠ¸ë¡œ ë²„ê·¸ ì¬í˜„ |
| **í•œ í–‰ë™** | `createOsPage` + `page.keyboard.press("Space")` |
| **ë§‰íŒ ê³³** | app ì»¤ë§¨ë“œë¥¼ test kernelì— ì–´ë–»ê²Œ ë“±ë¡? |
| **ì‹œë„í•œ ê²ƒ** | `kernel.register(NEXT_SECTION)` â€” GLOBAL scopeì— ë“±ë¡ë¨ |
| **ê²°ê³¼** | ì»¤ë§¨ë“œëŠ” dispatchë˜ì§€ë§Œ handler ë¯¸ë°œê²¬ â†’ `result: undefined` |
| **ê°ì •** | ê¸¸ì„ ìƒìŒ |
| **Pain Point** | â›” **"app ì»¤ë§¨ë“œë¥¼ headless testì—ì„œ ì“°ëŠ” ë²•"ì´ ë¬¸ì„œí™”ë˜ì§€ ì•ŠìŒ** |

> **ì œí’ˆ ê°­**: `createOsPage`ëŠ” OS ì»¤ë§¨ë“œë§Œ ê¸°ë³¸ ë“±ë¡. ì•± ì»¤ë§¨ë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ scope hierarchyë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì¬í˜„í•´ì•¼ í•˜ëŠ”ë°, ì´ íŒ¨í„´ì´ ì–´ë””ì—ë„ ì•ˆ ì¨ ìˆìŒ. ê¸°ì¡´ ë¹Œë” í…ŒìŠ¤íŠ¸(`builder-esc-deselect.test.ts`)ëŠ” `Keybindings.registerAll`ë§Œ í•˜ê³  effectëŠ” í…ŒìŠ¤íŠ¸í•˜ì§€ ì•ŠìŒ â†’ ì°¸ê³ í•  ì„ ë¡€ ì—†ìŒ.

---

### Phase 3: Scope Hell (â‘¤)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **í•˜ë ¤ëŠ” ê²ƒ** | ì™œ effectê°€ í˜¸ì¶œ ì•ˆ ë˜ëŠ”ì§€ ë””ë²„ê¹… |
| **ë°œê²¬** | ì»¤ë§¨ë“œ scope = `["docs-viewer:docs-reader"]`, í•¸ë“¤ëŸ¬ëŠ” GLOBALì— ë“±ë¡ |
| **ê·¼ë³¸ ì›ì¸** | `kernel.register(factory)`ê°€ GLOBAL scopeì— ë“±ë¡í•˜ì§€ë§Œ, ì»¤ë§¨ë“œì˜ scopeëŠ” `docs-viewer:docs-reader` â†’ scope chain ë¶ˆì¼ì¹˜ â†’ handler ë¯¸ë°œê²¬ |
| **ê°ì •** | í˜¼ë€ì˜ ì •ì  |
| **Pain Point** | â›” **`kernel.register(factory)`ê°€ scope ë¶ˆì¼ì¹˜ë¥¼ ê²½ê³ í•˜ì§€ ì•ŠìŒ** |

> **ì œí’ˆ ê°­ (ê°€ì¥ ì¹˜ëª…ì )**:
> - `kernel.register(factory)`ëŠ” factoryì˜ `.commandType`, `.handler`, `.tokens`ë¥¼ ì½ì§€ë§Œ **`.scope`ëŠ” ë¬´ì‹œ**. GLOBALì— ë“±ë¡.
> - í•´ë‹¹ commandTypeì˜ ì»¤ë§¨ë“œê°€ dispatchë˜ë©´ scope chainì„ íƒ€ëŠ”ë°, GLOBALê¹Œì§€ ë„ë‹¬í•˜ê¸° ì „ì— `parentMap`ì´ ì—†ì–´ì„œ bubbleì´ ì•ˆ ë¨.
> - **ì—ëŸ¬ ë©”ì‹œì§€ ì—†ìŒ.** `result: undefined`ë§Œ ë‚¨ìŒ. ì™œ ì—†ëŠ”ì§€ ëª¨ë¦„.
> - `console.log`ë¥¼ ì°ì–´ì„œì•¼ ë°œê²¬.

---

### Phase 4: í•´ê²° (â‘¥â‘¦)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ê¹¨ë‹¬ìŒ** | `defineScope` + `group({ scope })` ë¡œ hierarchy ì¬í˜„ í•„ìš” |
| **í•œ í–‰ë™** | `appGroup = kernel.group({ scope: "docs-viewer" })` â†’ `zoneGroup = appGroup.group({ scope: "docs-viewer:docs-reader" })` â†’ `zoneGroup.defineCommand(...)` + `zoneGroup.defineEffect(...)` |
| **ê²°ê³¼** | ğŸŸ¢ 5/5 PASS |
| **ê°ì •** | ì•ˆë„ â†’ ì´í•´ |
| **Delight** | âœ… í•œ ë²ˆ êµ¬ì¡°ê°€ ë§ìœ¼ë‹ˆ smooth/instant ë¬´ê´€í•˜ê²Œ ë™ì‘. 3íšŒ ì—°ì†ë„ ë™ì‘. |

---

## 3. Pain Point ìš”ì•½ (ì œí’ˆ ê°œì„  ê¸°íšŒ)

| # | Pain Point | ì‹¬ê°ë„ | ì œì•ˆ |
|---|-----------|--------|------|
| **P1** | ì•± ì»¤ë§¨ë“œë¥¼ headless testì—ì„œ ì“°ëŠ” ë¬¸ì„œ/íŒ¨í„´ ë¶€ì¬ | ğŸ”´ High | RUNBOOKì— "ì•± ì»¤ë§¨ë“œ headless í…ŒìŠ¤íŠ¸" ì„¹ì…˜ ì¶”ê°€. scope hierarchy ì¬í˜„ boilerplate ì œê³µ |
| **P2** | `kernel.register(factory)`ê°€ scope ë¶ˆì¼ì¹˜ë¥¼ ê²½ê³  ì—†ì´ ë¬´ì‹œ | ğŸ”´ High | factoryì— scope ì •ë³´ê°€ ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ í•´ë‹¹ scopeì— ë“±ë¡í•˜ê±°ë‚˜, mismatch ì‹œ warning |
| **P3** | handler ë¯¸ë°œê²¬ ì‹œ ì—ëŸ¬/ê²½ê³  ì—†ìŒ (`result: undefined`ë§Œ) | ğŸŸ¡ Medium | `logger.warn("[kernel] No handler found for CMD_TYPE in scope chain [...])` |
| **P4** | effect handlerì˜ DOM ì ‘ê·¼ì— ê°€ë“œë ˆì¼ ì—†ìŒ | ğŸŸ¡ Medium | effect handlerë„ lint ëŒ€ìƒì— í¬í•¨í•˜ê±°ë‚˜, "ì´ê±´ effectë¡œ í•´ì•¼ í•˜ëŠ” ê²ƒ" ì•ˆë‚´ |

---

## 4. Cynefin íŒì •

ğŸŸ¢ **Clear** â€” Pain Point ê°ê°ì€ ìëª…í•œ í•´ë²•ì´ ìˆë‹¤ (ë¬¸ì„œ ì¶”ê°€, warning ì¶”ê°€, lint í™•ì¥). 
íŒì • ê·¼ê±°: ë¬¸ì œì˜ ì›ì¸ê³¼ í•´ë²•ì´ ëª…í™•. êµ¬í˜„ë§Œ í•˜ë©´ ë¨.

## 5. ì¸ì‹ í•œê³„

- ì´ journey mapì€ AI 1ëª…(ë‚˜)ì˜ ë‹¨ì¼ ì„¸ì…˜ ê²½í—˜. ë‹¤ë¥¸ AI/ì¸ê°„ ê°œë°œìì˜ ê²½í—˜ê³¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ.
- P2(scope ìë™ ë“±ë¡)ì˜ êµ¬í˜„ ë³µì¡ë„ëŠ” kernel ë‚´ë¶€ë¥¼ ë” ë¶„ì„í•´ì•¼ íŒë‹¨ ê°€ëŠ¥.

## 6. ì—´ë¦° ì§ˆë¬¸

1. P1(ë¬¸ì„œ)ì€ RUNBOOKì— ë„£ì„ê¹Œ, `createOsPage.ts` ìƒë‹¨ JSDocì— ë„£ì„ê¹Œ?
2. P2(scope ìë™ ë“±ë¡)ëŠ” kernel ë³€ê²½ì´ í•„ìš” â€” scopeë¥¼ factoryì— ë‚´ì¥í•˜ëŠ” ê²ƒì´ ì˜¬ë°”ë¥¸ê°€?
3. P3(handler ë¯¸ë°œê²¬ ê²½ê³ )ì€ ì„±ëŠ¥ ì˜í–¥ì´ ìˆë‚˜? (ë§¤ dispatchë§ˆë‹¤ ì²´í¬)

---

**í•œì¤„ìš”ì•½**: AIê°€ OS ìœ„ì—ì„œ ë²„ê·¸ë¥¼ ìˆ˜ì •í•  ë•Œ, "ì•± ì»¤ë§¨ë“œì˜ scope hierarchyë¥¼ headless testì—ì„œ ì¬í˜„í•˜ëŠ” ë°©ë²•"ì„ ëª°ë¼ì„œ DOMìœ¼ë¡œ íšŒê·€í–ˆê³ , kernelì´ scope ë¶ˆì¼ì¹˜ë¥¼ ê²½ê³ í•˜ì§€ ì•Šì•„ ë””ë²„ê¹…ì´ ì§€ì—°ë¨.
