# Discussion: 토큰 효율화 — KI Retire를 통한 고정비 절감

> Date: 2026-02-20 00:04 ~ 00:16
> Conclusion: 토큰 소비의 진짜 원인은 테스트/문서 "작성"이 아니라, 매 턴 자동 로딩되는 메타데이터 + 대화 히스토리 누적이며, 통제 가능한 최우선 레버는 KI 아티팩트 정리다.

---

## Journey

**🧑 사용자**: 테스트코드와 문서 때문에 토큰 소비가 급증했어. 절약하면서 퀄리티 유지할 방법 없을까?

**🤖 AI**: 숨겨진 의도는 "워크플로우의 지속 가능성". 토큰 소비 벡터를 5가지로 분해 제시 (테스트, 문서, KI, 컨텍스트 로딩, 코드 탐색). 어디가 가장 큰지 질문.

---

**🧑 사용자**: 근데 진짜 테스트와 문서야? 정확한 이유를 몰라.

**🤖 AI**: 실측 수행. 테스트(175KB)는 전체에서 가장 작은 축. docs(2.54MB)가 최대이나 온디맨드. 진짜 고정비는 시스템 프롬프트 + KI/대화 요약 + 히스토리 누적임을 발견. **"직감은 틀렸을 가능성이 높다"** (W4: Measure, Don't Guess).

---

**🧑 사용자**: 문서를 다 읽어? 온디맨드하게 읽지 않아?

**🤖 AI**: 맞다. 파일 크기 비교 테이블은 "잠재적 풀"이지 실제 소비량이 아님. 매 턴 무조건 소모되는 고정비 = 시스템 프롬프트 + 워크플로우 목록(35개) + KI 요약(13개) + 대화 요약(20개) + 대화 히스토리 누적. **History Accumulation Tax** (W6) 발견.

---

**🧑 사용자**: 줄일 수 있는 것은?

**🤖 AI**: 줄일 수 없는 것(시스템 프롬프트) vs 줄일 수 있는 것 분류. Top 3:
1. 워크플로우 35개 → 통합/정리 (매 턴 고정비)
2. 대화를 짧게 끊기 (히스토리 세금 리셋)
3. KI retire (172개 아티팩트 → 요약 목록 축소)

---

**🧑 사용자**: KI retire부터 하자. 워크플로우는 다 효과적이라 줄일 게 없어.

**🤖 AI**: KI 15개, 172 아티팩트, 882KB 분석. Tier 1(로그성 파일 제거) + Tier 2(KI 자체 retire) 분류. 로그성 파일 13개(~158KB) 식별 → 삭제 실행.

**결과**: 172개 → 159개 (−7.6%), 882KB → 724KB (**−17.9%**)

---

## Conclusion

### Why
AI 협업 워크플로우의 토큰 비용이 증가하면서 개발 방식의 지속 가능성에 대한 불안이 생겼다.

### Intent
토큰 소비의 실제 원인을 측정 기반으로 파악하고, 가장 효과적인 절감 지점을 찾아 행동하고 싶다.

### Warrants

| # | Warrant | 출처 |
|---|---------|------|
| W1 | **Pareto (80/20)** | 소비의 80%를 차지하는 20% 활동을 특정해야 효과적 |
| W2 | **DRY** | 반복적 보일러플레이트 생성은 구조적으로 줄일 수 있다 |
| W3 | **Information Scent** | 자기설명적 구조는 탐색 토큰을 절약한다 |
| W4 | **Measure, Don't Guess** | 직감("테스트와 문서")은 실측과 불일치. 테스트는 175KB로 가장 작음 |
| W5 | **Fixed vs Variable Cost** | 매 턴 자동 로딩(고정비) 절감이 누적 효과가 크다 |
| W6 | **History Accumulation Tax** | 도구 호출 결과가 히스토리에 잔류, 대화 길어질수록 입력 비용 선형 증가 |
| W7 | **Lever of Control** | 줄일 수 있는 것(KI, 대화 길이)과 없는 것(시스템 프롬프트)을 구분해야 |
| W8 | **Log ≠ Knowledge** | 트러블슈팅 로그, 마이그레이션 히스토리, 감사 로그는 "지식"이 아니라 "기록" |

### 실행 결과

- KI 아티팩트 13개 삭제 (172 → 159, −158KB, −17.9%)
- 삭제 기준: 해결 완료된 트러블슈팅, 완료된 마이그레이션, 감사 로그, 워크스루
- 남은 레버: 대화 짧게 끊기 (습관), support_portal/ai_agent_workflow_system KI retire (미결)

### 한 줄 요약

> **토큰 절약의 핵심은 "덜 쓰기"가 아니라 "쓸모없는 과거를 버리기"다. Log ≠ Knowledge.**
