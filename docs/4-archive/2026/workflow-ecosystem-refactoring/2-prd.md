# PRD — 워크플로 생태계 리팩토링

## 배경

20개 워크플로를 전수 분석한 결과, 중복(`/next`), 모호한 정체성(`/make`), 그리고 빈 자리(`/go`, `/refactor`, `/routes`)를 발견했다.

## 목표

워크플로 생태계를 정비하여:
1. 중복 워크플로를 제거한다
2. 빈 자리를 채운다
3. 각 워크플로의 정체성과 관계를 선명하게 한다

## 범위

### In Scope
- `/next` 폐기 (파일 삭제)
- `/go` 신규 생성 (자율 실행 루프)
- `/refactor` 신규 생성 (패턴 전환 파이프라인)
- `/make` → `/poc` 리네임 + 개선
- `/routes` 신규 생성 (라우트 등록/제거)

### Out of Scope
- 배포/릴리스 워크플로 (출시 시 고민)
- 커밋 품질 워크플로 (0→1 단계에서 불필요)
- 기존 워크플로 내용 수정 (이번 프로젝트는 추가/삭제/리네임만)

## 사용자 시나리오

| 시나리오 | 현재 | 개선 후 |
|---------|------|--------|
| 에이전트가 멈춤 | `/next` 실행 → 시스템 스캔 (의도와 다름) | `/go` 실행 → Known은 자율 실행, Open은 보고 |
| 패턴 A→B 전환 | `/project` (overkill) 또는 수동 | `/refactor` → 전용 파이프라인 |
| spike 검증 | `/make` (이름이 모호) | `/poc` → 의도 명확 + 라우트 관리 |
| 라우트 정리 | 수동 | `/routes` → 등록/제거 자동화 |

## 기술 제약

- 워크플로 파일은 `.agent/workflows/` 디렉토리에 위치
- YAML frontmatter + markdown 형식
- 기존 워크플로와의 조합 관계를 명시해야 함
