# 워크플로 생태계 리팩토링 — Discussion Journey

---

**🧑 사용자**: 전체 워크플로우를 다 읽어봐. 그리고 missing을 찾아봐

**🤖 AI**: 20개 워크플로를 역할별로 분류하고 6개 missing을 제시:
1. Refactor 워크플로 없음
2. Deploy/Release 없음
3. `/make`와 `/project`의 품질 격차
4. Commit 품질 워크플로 없음
5. `/next`가 `/project`를 모름
6. User-facing documentation 없음

---

**🧑 사용자**: 그치! 리팩토링이 없어. 배포와 릴리즈는 아직 정식 출시 전이라 출시할때 고민하려고. 품질관리도 아직 0→1 중이니까. /next가 내 의도와 다르게 구현이 되었어

**🤖 AI**: `/next`의 현재 구현(시스템 에러 스캔 → 자동 탐지)이 원래 의도와 다르다는 신호를 포착. 원래 의도가 A) 프로젝트 다음 step 이어하기, B) 빠진 연결고리 찾기, C) 다른 것 중 어느 쪽인지 질문.

---

**🧑 사용자**: 내가 기대하는건 이런거야. 답이 있는것 혹은 내가 생각지 못한 답을 resource나 LLM이 더 잘 알고 있는 것들을 알아서 해주길 바라지. 의사결정이 필요한건 진행하지 않고 보고서를 쓰고 같이 논의하거나 내가 결정하길 바래. 가끔 에이전트가 멈출때가 있단 말야. 그때 하라는 거지. next보다는 go이려나?

**🤖 AI**: 핵심 발견 — `/next`가 아니라 `/divide`의 자율 실행 버전이다:
```
/go = /divide + 자율 루프
  Known → 알아서 실행
  Open  → 보고서 → 사용자 판단 대기
```

---

**🧑 사용자**: 할일이 뭔지 모를때에는 /todo가 있는데?

**🤖 AI**: 결정적 지적. `/next`의 현재 기능을 분해하면 전부 기존 워크플로와 중복:
- tsc 에러 → `/fix`, E2E 실패 → `/diagnose`, inbox 정리 → `/para`, 할 일 제안 → `/todo`
- 결론: **`/next`는 폐기**, `/todo` = 탐지/제안, `/go` = 자율 실행으로 역할 분리.

---

**🧑 사용자**: 의사결정이 필요할때 나를 부르는거

**🤖 AI**: 확정 — `/go`는 의사결정 시점까지 무한 전진하는 진짜 자율 에이전트.

---

**🧑 사용자**: 리팩토링은 중요해 분리할거야. 사실 워크플로우중에 inbox처럼 편하게 쓰는 것들도 있지만 더 세밀하게 만들고 싶은 것들도 있지. 리팩토링은 그중에 하나라고 생각해

**🤖 AI**: 워크플로를 도구형(가벼움)과 파이프라인형(무거움)으로 구분. 실행 파이프라인 스펙트럼 도출: `/poc` → `/refactor` → `/project`.

---

**🧑 사용자**: make를 poc로 바꾸자. 생각해보니 make는 너무 의도가 모호하네?

**🤖 AI**: "make" = "뭘 만들어?", "poc" = spike/검증. 이름이 의도를 담는다.

---

**🧑 사용자**: 임시로 만들어보고 버릴건데 routes 정리하는거 워크플로에 추가하자. 지금 있는 route를 찾아서 아이콘과 이름을 매칭하고 사이드바에 다는거야. 필요없다고 하면 제거하고 관련된 코드도 같이 제거하는거지

**🤖 AI**: `/routes` = 라우트 기반 앱 등록/제거 도구. 등록 모드(탐색→매칭→GlobalNav)와 제거 모드(삭제→해제→코드 정리) 제안.

---

**🧑 사용자**: rule로 만들면 에이전트가 생각보다 잘 안지키던데? rule는 따르면 좋고 안지켜도 뭐 이런느낌이라

**🤖 AI**: 핵심 설계 원칙 발견:
```
Rule = soft (희망)
Workflow Step = hard (강제)
반드시 지켜야 할 것 → Step으로 박는다
```

---

## 한 줄 요약

중복(`/next`)을 제거하고 빈 자리(`/go`, `/refactor`, `/routes`)를 채우며, "Rule < Workflow Step" 원칙을 발견한 논의.


---

# 워크플로 생태계 리팩토링 — Discussion Conclusion

## Why

20개 워크플로가 프로젝트 생애주기의 대부분을 커버하지만, **정체성이 모호하거나 중복인 워크플로**와 **빈 자리**가 존재한다. 이를 교정하지 않으면 에이전트가 잘못된 도구를 쓰거나, 필요한 도구 없이 수동으로 작업하게 된다.

## Intent

워크플로 생태계의 빈 구멍을 찾아 채우고, 각 워크플로의 정체성과 관계를 선명하게 만들어 에이전트가 올바른 워크플로를 올바른 시점에 쓸 수 있게 한다.

## Warrants (논거)

W1. **리팩토링 파이프라인이 없다** — `zustand → kernel`, `useState → BuilderApp` 같은 패턴 전환이 빈번하지만, `/fix`(버그), `/cleanup`(lint), `/project`(신규 기능) 어디에도 맞지 않는다.

W2. **`/next`는 중복 조합이다** — 현재 기능을 분해하면 `/fix` + `/diagnose` + `/para` + `/todo`의 조합이며, 독자적 정체성이 없다.

W3. **자율 실행 에이전트 루프가 없다** — 에이전트가 멈췄을 때 "갈 수 있는 데까지 가되, 의사결정이 필요하면 보고하고 멈춰라"는 워크플로가 존재하지 않는다. 이것이 사용자가 `/next`에 기대했던 원래 의도였다.

W4. **`/make`의 이름이 모호하다** — "make"는 "뭘 만들어?"가 바로 떠오른다. "poc"로 바꾸면 spike/검증 의도가 이름에 박힌다.

W5. **라우트 관리 도구가 없다** — 새 페이지를 만들면 GlobalNav 등록, 필요 없으면 라우트+관련 코드 통째 제거. 이 과정이 수동이다.

W6. **Rule은 soft, Workflow Step은 hard** — GlobalNav 등록 같은 필수 관례를 rule로 두면 에이전트가 잘 안 지킨다. 반드시 지켜야 할 것은 workflow step으로 강제해야 한다.

W7. **실행 파이프라인에 스펙트럼이 필요하다** — `/poc`(가벼움) → `/refactor`(중간) → `/project`(무거움) 세 단계가 있어야 작업의 무게에 맞는 프로세스를 선택할 수 있다.

W8. **배포/릴리스, 커밋 품질은 의도적 유예** — 0→1 단계에서는 불필요. 정식 출시 시점에 고민한다.

## 결론 — 5개 액션

| # | 액션 | 유형 |
|---|------|------|
| 1 | `/next` 폐기 | 삭제 |
| 2 | `/go` 신규 생성 | 파이프라인형 (자율 실행 루프) |
| 3 | `/refactor` 신규 생성 | 파이프라인형 (패턴 전환) |
| 4 | `/make` → `/poc` 리네임 + 개선 | 리네임 |
| 5 | `/routes` 신규 생성 | 도구형 (라우트 등록/제거) |

## 설계 원칙

```
강제 메커니즘 3단계:
  Workflow Step (반드시) > Rule (가급적) > Resource (참고)
```

## 한 줄 요약

워크플로 생태계에서 중복(`/next`)을 제거하고 빈 자리(`/go`, `/refactor`, `/routes`)를 채워, 실행 파이프라인 스펙트럼(`/poc` → `/refactor` → `/project`)을 확립하는 5개 액션 제안.
