# Discussion Journey: Keybinding `when` ì¡°ê±´ì˜ ì¬ì„¤ê³„

> 2026-02-11 â€” Gap 4 ë…¼ì˜ ê³¼ì • ëŒ€í™”ë¡

---

**ğŸ¤– AI**: Gap 4 â€” ì•± ë ˆë²¨ keybinding `when` ì¡°ê±´. í˜„ì¬ `when: "navigating" | "editing"` ë§Œ ì§€ì›í•˜ëŠ”ë°, ì•±ì´ `isDraftFocused` ê°™ì€ ì»¤ìŠ¤í…€ ì¡°ê±´ì„ ì“°ë ¤ë©´ í™•ì¥í•´ì•¼ í•œë‹¤. zone ë¶„ê¸°ëŠ” scope routingìœ¼ë¡œ ì´ë¯¸ í•´ê²°ë˜ì§€ ì•Šë‚˜?

**ğŸ§‘ ì‚¬ìš©ì**: ì¼ë‹¨ ì±…ì„ë¶€í„°. í‚¤ë³´ë“œëŠ” ì»¤ë„ì˜ ì±…ì„ë„ ì•„ëƒ. OSëŠ” ì¸í”„ë¼ë¥¼ ì œê³µ. ì‚¬ìš©ì€ Appì´ í•œë‹¤.

> ğŸ’¡ í•µì‹¬ ì „í™˜: Gap 4ê°€ "ì»¤ë„ì´ whenì„ ì§€ì›í•´ì•¼ í•œë‹¤"ë¡œ í”„ë ˆì´ë°ëœ ê²ƒ ìì²´ê°€ í‹€ë ¸ë‹¤. ì»¤ë„ì€ í‚¤ë³´ë“œë¥¼ ëª¨ë¥¸ë‹¤.

---

**ğŸ¤– AI**: ê·¸ëŸ¬ë©´ Gap 4ëŠ” ì»¤ë„ì´ ì•„ë‹ˆë¼ OS keybinding ì¸í”„ë¼ì˜ ë¬¸ì œ. `activeZone === "sidebar"` ê°™ì€ ê±´ scope routingìœ¼ë¡œ ì´ë¯¸ í•´ê²° ê°€ëŠ¥í•˜ì§€ ì•Šë‚˜?

**ğŸ§‘ ì‚¬ìš©ì**: `Expect("activeZone").toBe("sidebar")` â€” ë§ì•„ ì´ê±´ ê³¼ê±°ì˜ ì„¤ê³„. ê³¼ê±°ì˜ AIëŠ” VS Code ê¸°ë°˜ ëª¨ë¸ì„ ì¶”ì²œí–ˆì—ˆê±°ë“ .

> ğŸ’¡ VS Code `when` clauseê°€ ì°¸ì¡° ëª¨ë¸ì´ì—ˆìŒì„ í™•ì¸. flat namespaceìš© ì„¤ê³„ê°€ scope tree ìœ„ì— ì˜¬ë¼ê°„ ê²ƒ.

---

**ğŸ¤– AI**: VS CodeëŠ” flat namespaceë¼ `when`ì´ ìœ ì¼í•œ ë¼ìš°íŒ… ìˆ˜ë‹¨ì´ì—ˆì§€ë§Œ, ì´ OSëŠ” scope tree + bubblingì´ ìˆìœ¼ë‹ˆ zone ë¶„ê¸°ê°€ ë¶ˆí•„ìš”. `when`ì— ë‚¨ëŠ” ê±´ `isDraftFocused` ë¿.

**ğŸ§‘ ì‚¬ìš©ì**: when íŒ¨í„´ì´ êµ¬ë¦° ê±´ ê²°êµ­ í‚¤ë³´ë“œëŠ” ì§€ê¸ˆ focusë¥¼ ë°›ëŠ” ë°ì„œ ì²˜ë¦¬í•˜ê³  ë²„ë¸”ë§ì„ í•˜ëŠ” ê²Œ ë§ì§€.

> ğŸ’¡ í‚¤ë³´ë“œ ë¼ìš°íŒ… = DOM ì´ë²¤íŠ¸ ëª¨ë¸. focused zone â†’ bubble up. Top-down `when` routingì€ ì˜ëª»ëœ ë°©í–¥.

---

**ğŸ¤– AI**: í‚¤ë§µì„ ëˆ„ê°€ ë“¤ê³  ìˆì–´ì•¼ í•˜ë‚˜? App vs Zone?

**ğŸ§‘ ì‚¬ìš©ì**: (zoneì´ ë“¤ì–´ì•¼ í•œë‹¤ëŠ” ì „ì œ í™•ì¸ í›„) ì»¤ë§¨ë“œ íŒ”ë ˆíŠ¸ëŠ” Appì´ë¼ëŠ” Zoneì—ì„œ ì²˜ë¦¬í•˜ë©´ ë¼.

---

**ğŸ¤– AI**: editing/navigatingì€ ì–´ëŠ ë ˆì´ì–´ì¸ê°€?

**ğŸ§‘ ì‚¬ìš©ì**: 2ê°€ì§€ê°€ ìˆì–´. OS levelì—ì„œ keyboardê°€ IME ëª¨ë“œì¼ ë•Œ (ë¶€ê°€ì •ë³´ë„ ì¤„ ìˆ˜ ìˆê³ , chip ëª¨ë“œ ë“±). ì•„ë‹ˆë©´ Appì˜ stateì—ì„œ ì •ë§ ì•± ìƒíƒœë¥¼ ê´€ë¦¬í•  ë•Œ.

> ğŸ’¡ `when`ì´ ì„ê³  ìˆë˜ 3ê°€ì§€ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬:
> 1. OS ê²Œì´íŠ¸ (DOM focus + IME)
> 2. Scope routing (zone ë¶„ê¸°)
> 3. App state ë¶„ê¸° (command handler)

---

**ğŸ¤– AI**: OS keyboard ìƒíƒœë¥¼ `defineContext("os:keyboard")`ë¡œ ì œê³µí•˜ë©´ FocusInfoì™€ ë™ì¼ íŒ¨í„´. keybinding resolverë„ ì•±ë„ ê°™ì€ contextë¥¼ ì½ëŠ”ë‹¤.

**ğŸ§‘ ì‚¬ìš©ì**: ì¢‹ì•„. ë‹«ê³  ì§„í–‰í•˜ì.

---

## í•œ ì¤„ ìš”ì•½

> **`when`ì€ VS Codeì˜ flat namespace í•´ë²•ì„ scope tree ìœ„ì— ì˜¬ë¦° ì˜¤ì„¤ê³„ì˜€ê³ , OS ê²Œì´íŠ¸ / scope bubbling / context injection 3-layerë¡œ ìì—° ë¶„í•´ëœë‹¤.**
